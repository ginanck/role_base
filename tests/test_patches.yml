---
# Example playbook for testing OS patch management
- name: Test base role with OS patches
  hosts: all
  become: true
  
  vars:
    # Enable OS patching
    base_apply_os_patches: true
    
    # Enable automatic reboot if required (use with caution in production)
    base_reboot_after_patches: false
    
    # Apply only security updates (for RHEL-based systems)
    base_security_updates_only: false
    
    # Additional packages to install
    base_additional_packages:
      - htop
      - tree
      - curl
      - wget
    
    # Configure hostname
    base_hostname: "{{ inventory_hostname }}"
    
  roles:
    - role_base
    
  post_tasks:
    - name: Display system information after patching
      ansible.builtin.debug:
        msg: |
          System: {{ ansible_distribution }} {{ ansible_distribution_version }}
          Kernel: {{ ansible_kernel }}
          Uptime: {{ ansible_uptime_seconds | int // 86400 }} days
